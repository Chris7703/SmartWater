<h1 class="page-header">{{pageTitle}}</h1>

<form method="post" name="formUser" id="formUser" ng-submit="add_new(user, board)" class="form-horizontal" novalidate>

  <div class="form-group"
  ng-class="{ 'has-error' : formUser.userCPF.$invalid && !formUser.userCPF.$pristine }">
    <label for="name">CPF:</label>
    <input type="text" class="form-control" name="userCPF"
    ng-model="user.cpf"
    ng-minlength="14"
    ng-maxlength="14"
    ng-pattern="/^d{3}.d{3}.d{3}-d{2}$/"
    placeholder="999.9999.999-99" required />
    <p ng-show="formUser.userCPF.$invalid && !formUser.userCPF.$pristine" class="help-block">This field is required!</p>
    <p ng-show="formUser.userCPF.$error.minlength || formUser.userCPF.$error.maxlength" class="help-block">Please enter a valid CPF!</p>
  </div>

  <div class="form-group"
  ng-class="{ 'has-error' : formUser.userName.$invalid && !formUser.userName.$pristine }">
    <label for="name">Name:</label>
    <input type="text" class="form-control" name=userName
    ng-model="user.name"
    ng-minlength="10"
    placeholder="Enter Name" required />
    <p ng-show="!formUser.userName.$pristine" class="help-block">This field is required!</p>
    <p ng-show="formUser.userName.$error.minlength"  class="help-block">Please enter a name valid!</p>
  </div>

  <div class="form-group"
  ng-class="{ 'has-error' : formUser.userAddress.$invalid && !formUser.userAddress.$pristine }">
    <label for="address">Address:</label>
    <input type="text" class="form-control" name="userAddress"
    ng-model="user.address"
    ng-minlength="20"
    placeholder="Enter Address" required />
    <p ng-show="!formUser.userAddress.$pristine" class="help-block">This field is required!</p>
    <p ng-show="formUser.userAddress.$error.minlength" class="help-block">This address is invalid!</p>
  </div>

  <div class="form-group"
  ng-class="{ 'has-error' : formUser.userCity.$invalid && !formUser.userCity.$pristine }">
    <label for="city">City:</label>
    <input type="text" class="form-control" name="userCity"
    ng-model="user.city"
    ng-minlength="5"
    placeholder="Enter City" required />
    <p ng-show="!formUser.userCity.$pristine" class="help-block">This field is required!</p>
    <p ng-show="formUser.userCity.$error.minlength" class="help-block">The city's name is invalid!</p>
  </div>

  <div class="form-group">
    <div class="form-inline">
      <div ng-class="{ 'has-error' : formUser.userState.$invalid && !formUser.userState.$pristine }">
        <label for="state_city">State:</label>
        <input type="text" class="form-control" name="userState"
        ng-model="user.state_city"
        ng-minlength="2"
        ng-maxlength="2"
        placeholder="Enter State" required />
        <p ng-show="!formUser.userState.$pristine" class="help-block">This field is required!</p>
        <p ng-show="formUser.userState.$error.minlength || formUser.userState.$error.maxlenght" class="help-block">Please insert the state code!</p>
      </div>

      <div ng-class="{ 'has-error' : formUser.userCountry.$invalid && !formUser.userCountry.$pristine }">
        <label for="country">Country:</label>
        <input type="text" class="form-control" name="userCountry"
        ng-model="user.country"
        ng-minlength="5"
        placeholder="Enter Country" required />
        <p ng-show="!formUser.userCountry.$pristine" class="help-block">This field is required!</p>
        <p ng-show="formUser.userCountry.$error.minlength" class="help-block">This country's name is invalid!</p>
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password:</label>
    <input type="password" class="form-control" ng-model="user.password"required />
  </div>

  <div class="form-group">
    <label for="email">Email:</label>
    <input type="email"  class="form-control" ng-model="user.email" placeholder="user@domain.com" required />
  </div>

  <div class="form-group">
    <label for="residente_numbers">Resident Numbers:</label>
    <input type="text"  class="form-control" ng-model="user.residente_numbers" placeholder="1-100" required />
  </div>

  <div class="form-group">
    <label for="access_level">Access level:</label>
    <select class="form-control" ng-model="user.access_level">
      <option ng-repeat="access_level in access_levels" value="{{access_level.id}}">{{access_level.description}}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="mac_address">Mac address:</label>
    <input type="text"  class="form-control" ng-model="board.mac_address" required />
  </div>
  <!--|| isUnchanged(user)-->
  <button type="submit" class="btn btn-primary" ng-disabled="formUser.$invalid" id="add-new-btn">Add User</button>
  <button type="reset" class="btn btn-default">Cancel</button>

</form>
</div>
